import { Add } from "@mui/icons-material";
import { Box, IconButton, Tooltip } from "@mui/material";
import { useRef, useEffect } from 'react';

interface INotesProps {
    setIsHideHeader: Function
}
const Notes = ({ setIsHideHeader }: INotesProps) => {
    /*  ********************** Scroll Event Trigger ********************* */
    const scrollableDivRef = useRef<HTMLDivElement | null>(null);
    // const [isHide, setIsHide] = useState(true);
    const handleScroll = () => {
        const div = scrollableDivRef.current;
        if (div) {
            // Check if the user is scrolling up or down
            if (div.scrollTop > div.dataset.scrollTop || div.scrollTop === 0) {
                // Call your function for scrolling down
                // setIsHide(false);
                setIsHideHeader(false);
                if (div.scrollTop === 0) setIsHideHeader(true);
            } else {
                // Call your function for scrolling up
                // setIsHide(true);
                setIsHideHeader(true);
            }
            // Update the stored scrollTop value
            div.dataset.scrollTop = div.scrollTop.toString();
        }
    };
    useEffect(() => {
        const div = scrollableDivRef.current;

        if (div) {
            // Set an initial scrollTop value in the dataset
            div.dataset.scrollTop = '0';

            // Add a scroll event listener to the div
            div.addEventListener('scroll', handleScroll);
        }

        // Clean up the event listener when the component unmounts
        return () => {
            if (div) {
                div.removeEventListener('scroll', handleScroll);
            }
        };
    }, []);
    /*  ***************************************************************** */

    return (
        <>
            <Box className='notes-box' sx={{
                height: '100%',
                overflow: 'hidden',
                position: 'relative'
            }}>
                <Box
                    id="scrollableDiv"
                    ref={scrollableDivRef}
                    className='inner-notes-box'
                    sx={{
                        height: '100%',
                        overflowY: 'auto',
                    }}

                >
                    <Box>
                        Lorem ipsum dolor, sit amet consectetur adipisicing elit. Eaque voluptas odit culpa! Quasi reprehenderit voluptate, earum ad iste maiores aut tempore voluptas! Minus voluptate, optio alias assumenda modi quisquam, dolor quibusdam iusto consequuntur ratione aut ipsa provident! Sit molestias et enim, quam fugiat ipsam vitae perspiciatis ex? Beatae autem impedit totam voluptas voluptate! Saepe voluptas provident natus officia animi quas debitis numquam architecto dolore, enim consectetur, aut eaque libero ea qui! Itaque omnis perferendis perspiciatis nostrum minima maiores enim rem iure aperiam et. Magnam perferendis quisquam optio doloribus at corporis amet necessitatibus aliquid fuga distinctio quis, nesciunt voluptatum sit enim commodi, laborum natus voluptatibus, illum aut sint modi? At magni vitae debitis quae qui officiis adipisci, perferendis similique accusamus aut. Amet, nesciunt at. Vel dicta fugit iure aspernatur placeat! Libero nam nisi eos dolorem asperiores laudantium eius tempore exercitationem incidunt, odio dolores, harum nostrum obcaecati. Ad rerum, natus expedita asperiores dicta repellendus minima maiores, animi autem voluptatibus enim vel voluptas soluta saepe ducimus sunt unde perspiciatis mollitia sed consectetur nulla facere qui. Dolorum, vero necessitatibus ipsa delectus officia quasi nobis suscipit maxime eius dolore magni aspernatur quis est ullam harum iusto, enim excepturi reiciendis vitae porro facilis dolorem voluptatum. Recusandae excepturi officia laborum, atque rerum possimus. Mollitia alias, quaerat natus labore ipsa sequi placeat suscipit culpa hic cum eaque, sunt praesentium delectus eligendi eum itaque vitae voluptatum? Laborum impedit esse in delectus ex, quae magni! In, iure nam dignissimos, blanditiis id nobis qui corrupti vero, pariatur similique corporis repudiandae unde expedita laboriosam non? Impedit quibusdam nobis, quasi corrupti illo a at? Sunt, exercitationem enim quam provident praesentium soluta officia minus accusamus nobis tempore voluptate rem. Similique, quod maiores, repellat sequi odit voluptatibus voluptate ab iste dolorem nulla eum pariatur aspernatur! Doloremque molestiae voluptatum aspernatur blanditiis? Quasi eligendi architecto beatae, earum sint laborum officiis iure, dolore optio dolorem blanditiis provident quia, quisquam nihil harum nemo voluptatem quibusdam molestiae! Dolores repudiandae inventore itaque culpa quia reiciendis, accusamus molestias necessitatibus, eos dicta consequuntur atque quaerat recusandae eaque quos error sunt mollitia. Velit ex doloremque ducimus autem necessitatibus enim deserunt ea ut corrupti, omnis beatae adipisci consequatur, repellat dolore sunt corporis cumque laboriosam, architecto sequi. Saepe officiis dolorum, qui inventore necessitatibus dignissimos et. Commodi animi voluptas impedit cumque cum omnis nobis, magnam assumenda modi sed dicta a eveniet quisquam reiciendis tenetur ut tempora necessitatibus enim maxime consequatur eos velit facilis recusandae voluptatibus! Ducimus quae ullam maxime, unde enim fugiat cupiditate dolores qui nemo exercitationem iste, iusto dignissimos ex nostrum nisi harum ipsum quia quasi incidunt fugit numquam quas perspiciatis in. Voluptate non officia beatae, blanditiis repudiandae ducimus eum soluta saepe vel minima quas provident voluptatum sapiente architecto voluptas natus, esse laborum expedita cumque magnam vero maiores. Similique explicabo voluptate quidem quos, aut beatae aspernatur, cumque consequuntur natus dolor neque debitis minima incidunt amet architecto temporibus libero adipisci omnis nulla! Ea officia necessitatibus inventore consequuntur atque eius a esse eaque fugiat at tenetur, iusto facilis incidunt sit molestias tempore velit? Quos libero maiores, culpa tempora, nam nobis ab blanditiis asperiores ratione provident hic distinctio ut a saepe architecto, accusantium nihil suscipit id fuga assumenda eligendi. Eius perspiciatis reiciendis qui, quis officia cupiditate, nobis omnis hic, earum magni corporis tempore? Alias et voluptatum perspiciatis, rem tenetur est tempore eum nisi distinctio aliquid? Maxime obcaecati, voluptatem ullam porro tenetur nemo nobis commodi voluptate! Ipsum autem mollitia laudantium sit, architecto est cumque suscipit exercitationem magni aspernatur fuga delectus nihil reiciendis similique quas ex doloribus voluptatibus, labore quisquam eius. Ullam quo ipsam labore rem ipsum ea autem sequi voluptates? Unde debitis soluta quo sed placeat praesentium at, fuga est doloribus optio provident deleniti ipsa nisi minima, molestias adipisci? Nihil dolore iure temporibus necessitatibus amet nam, obcaecati id unde optio, perferendis magnam laudantium illum, explicabo natus officia fugit eaque aspernatur sunt consequatur quasi! Ut laborum neque, fuga cupiditate perferendis facilis voluptate incidunt explicabo nihil error quod odio iste porro eum dolore, animi architecto voluptates? Aut quos omnis sequi, nesciunt voluptatum minus temporibus laborum fugiat quam nostrum eum consequuntur, dolor saepe porro ducimus, error dicta ullam. Soluta corrupti nam, pariatur, consequatur voluptas id fuga aliquam odit laboriosam tempore totam at optio laborum ratione delectus, sunt praesentium numquam harum. Cum odio quisquam doloribus consequuntur aliquam quaerat quis deserunt, architecto unde harum enim nobis, nam totam minima asperiores libero, quas itaque? Deserunt laudantium consequuntur illo ut officiis assumenda cumque, velit quos nostrum necessitatibus perferendis dolor, impedit incidunt ducimus qui possimus dolore ea, quas et rerum quo dignissimos magni. Officiis distinctio architecto tempora amet dolor eius mollitia quibusdam error fugit at itaque unde assumenda beatae similique sapiente ipsum vel earum consequuntur magni eos quidem, deleniti ut animi nemo. Ad quaerat eos iste vel. Maiores eaque molestias aliquam, quibusdam nesciunt voluptate libero molestiae labore corporis necessitatibus dicta similique quae omnis sit dolore ducimus neque suscipit repellendus dolorum error! Accusamus ad dignissimos, numquam maiores veniam quo delectus aspernatur consequuntur in, cumque eos ipsum magnam debitis laudantium error eius tenetur. Aut aspernatur eum magnam ex animi non at? Rem odio dolor, labore vel molestiae eum non architecto dignissimos ducimus impedit aperiam perferendis laborum est maiores facere asperiores voluptatibus omnis. Officiis debitis natus porro laborum tenetur sit voluptatum maiores quas deleniti perspiciatis dolore veniam dignissimos rerum, iure qui sapiente, nam architecto sunt consequuntur iusto? Vero aperiam suscipit illum magni ea voluptatibus beatae id a doloribus facilis illo explicabo eligendi quos alias placeat provident voluptatem quam dicta, corporis similique maiores consequuntur! Iure officia omnis dignissimos incidunt, odit nam aspernatur? Recusandae sunt alias repudiandae, eos aut fugiat ea ut. Minima ipsam voluptatum nihil. Recusandae voluptates nisi facilis modi ratione iure enim, veritatis quidem neque id magnam tempora totam fugit expedita fugiat odio, quia excepturi reprehenderit! Autem, dolorum placeat minus provident alias aperiam expedita adipisci rem dolorem debitis facere. Ab odio quia laboriosam ex voluptatum vero dolorem molestiae, mollitia cumque, possimus neque! Omnis voluptatibus odio delectus quod. Minus dolor omnis tenetur sapiente in, consectetur aliquid ipsum corporis voluptates itaque sed officiis eius molestiae aliquam at a dolorem porro debitis eveniet, ducimus beatae nisi alias maxime aperiam. Doloribus aut accusamus dolorum quas quibusdam praesentium cum, distinctio a quis dicta odio veniam fugiat. Ducimus nulla asperiores, quod totam ut quae alias nam sit. Odit eligendi optio reiciendis soluta esse accusamus asperiores officia nesciunt labore ipsum ut a quia sed dolores autem, ab sunt excepturi nam dignissimos neque! Molestias quibusdam facilis natus? Consequatur quisquam deserunt itaque minima mollitia veritatis ut nostrum, quod fugiat laboriosam illo sed aperiam doloribus voluptate quas. Nesciunt quibusdam atque ullam quae tenetur. Quo voluptas fugit est placeat cumque, veritatis dolores voluptates laudantium ipsum itaque, debitis totam dicta ratione, quasi id ducimus tempora! Debitis nesciunt consequuntur, quibusdam reiciendis quia iste vel facilis labore eligendi nostrum sunt, odio ipsam perferendis! Consectetur asperiores corrupti, ab, quod cumque, numquam assumenda id esse debitis doloribus neque unde commodi a impedit recusandae fugit consequatur qui maxime! Dolor aut quis non numquam optio eveniet illo labore aliquid, in placeat tempora natus odio autem magnam veniam qui consequatur atque tenetur! Soluta facere beatae iusto consequatur animi ex exercitationem ipsa iure consectetur in velit, aspernatur voluptatibus sint non. Ex dolores, qui in numquam facere quas explicabo hic corrupti architecto amet consequatur sunt laborum doloribus porro tempore voluptas perferendis molestiae ad recusandae quae ipsam minus optio. Molestiae quae, sint dolorum recusandae eligendi similique aperiam perferendis, sequi explicabo incidunt eveniet ex, odit aliquid soluta facilis non assumenda rerum nobis culpa hic. Pariatur beatae in ipsa quas ex? Quod at saepe eveniet minima perspiciatis fugiat ea? Labore laboriosam voluptatibus debitis asperiores blanditiis iste error. Consequuntur ducimus quidem debitis officiis voluptatum ab minus nulla reiciendis modi ipsam ipsum libero aut ut cumque mollitia quisquam, distinctio molestias omnis alias dolorum, praesentium repellendus, voluptatibus commodi. Illo cumque adipisci qui minus velit nihil ipsam facere ut harum dolorum consectetur dolore iste aliquam nisi obcaecati culpa hic, ipsa perspiciatis, alias commodi suscipit aperiam, sapiente distinctio? Officiis iure inventore accusantium. Obcaecati repellat dolor accusamus quasi, quibusdam ex doloribus impedit incidunt, esse delectus consequuntur maiores officia facere, voluptatibus sequi suscipit deserunt! Cum, quas hic veniam consequatur amet sequi quod molestias vel velit! Numquam dolorum consequatur harum impedit ullam, modi fugiat accusamus facere inventore molestias reiciendis labore cupiditate explicabo veritatis dicta nulla sint sit voluptas facilis corporis doloribus provident. Harum, sint provident! Iusto facere eligendi molestiae magnam suscipit. Eos esse explicabo similique assumenda porro odio vero asperiores odit, impedit possimus, maiores nesciunt qui a temporibus earum consequatur laudantium reprehenderit! Vero vel consequatur voluptatibus sapiente maxime ipsa dolore reiciendis quam, quasi, est at earum nobis totam facilis rerum deleniti quas soluta, blanditiis assumenda sed non ullam excepturi in voluptate. Beatae, a excepturi cum labore accusantium minima, itaque aperiam eius eligendi esse quisquam optio molestias quasi, porro enim repudiandae vero. Quo id veniam, eos, temporibus, sequi ducimus quos fugiat cumque voluptate facilis eaque nemo dicta quibusdam maiores dolorem deserunt doloremque sed! Voluptatibus perferendis non nisi facilis in debitis voluptatem possimus officia, vitae deserunt veritatis, quidem, accusamus temporibus labore. Optio, delectus? Commodi saepe magni consequatur eos, facere qui. Nemo, quos. Quis totam dolores odio alias unde quos quisquam ullam! Vel eius fuga, illo odit sequi quo delectus molestias consectetur nulla expedita, omnis cupiditate assumenda culpa consequatur iste labore reiciendis in quis tenetur rerum distinctio illum? Veniam ut quas earum modi natus est commodi quaerat. Modi deleniti ipsam dolore dolor nulla itaque labore ab saepe, sed sunt expedita explicabo rem dolorum. Voluptatum alias perspiciatis maxime qui blanditiis neque aperiam recusandae suscipit obcaecati nam quod vel tempora quam beatae consectetur mollitia autem est quaerat quos, fuga ab. Modi vero officia temporibus architecto. Deserunt quasi numquam ea reprehenderit ipsam veniam. Esse, numquam aliquam cumque excepturi maxime iusto ea quidem voluptatibus odio ratione tenetur placeat minima. Totam, quod sapiente neque delectus dignissimos nam id. Tenetur beatae exercitationem explicabo ducimus quis possimus totam hic aliquam corrupti. Quis ipsam alias optio aliquam quidem molestiae nesciunt aspernatur asperiores in obcaecati corrupti accusantium, ipsa mollitia nihil culpa labore voluptas maiores saepe laudantium dolore et vitae cum ab dicta! Recusandae minus nisi repellendus rerum? Doloribus aperiam ipsam quia fugit repellat consequuntur laboriosam ab sit amet consequatur itaque quaerat dolore, quibusdam, eaque obcaecati culpa sapiente, quod unde nulla assumenda tempora provident aspernatur? Accusantium labore corporis unde neque expedita. Praesentium, inventore! Voluptatum esse autem sint dicta qui dolorem quam magni aliquid maiores porro excepturi maxime quod facilis officia sequi consequuntur itaque eaque, nesciunt deserunt unde nobis id! Corporis minus possimus, sit assumenda aspernatur harum vitae dolorem ab vero doloremque alias iure expedita tempore ipsa pariatur officiis sunt error id debitis quidem! Totam cumque quia eos illum minus magnam corporis nobis error, incidunt similique inventore quae laborum aut qui excepturi eius blanditiis, molestias repudiandae maiores. Est aliquid accusamus consequuntur voluptatibus nobis vero rem, deleniti cupiditate nisi dolore debitis laudantium soluta distinctio at, ratione aspernatur? Molestias, natus laborum. Explicabo dolorum quisquam neque repudiandae consequuntur, nihil asperiores, quas quaerat excepturi dolores aliquam cumque vel placeat debitis repellendus nobis nam quia fugit aspernatur. Ut magni quidem necessitatibus laborum illo ea sit animi quam tenetur, dolorum tempore esse in at nam quo accusantium fugiat repudiandae dolore corrupti, architecto quaerat, nemo eum reprehenderit. Odit assumenda adipisci, laudantium numquam sint, ullam mollitia perferendis earum quisquam culpa praesentium. Veritatis dolorem odit eaque omnis harum numquam veniam nihil dolorum qui quis voluptatibus laboriosam quam, nisi soluta laborum ipsam error quae temporibus animi ducimus? Molestiae quod temporibus dolorum mollitia dolores voluptatem nam quisquam quia voluptatibus qui quas at reiciendis illum, laborum itaque, tenetur voluptatum commodi dolorem vitae necessitatibus nulla dolore. Perspiciatis ex modi explicabo! Quaerat laudantium aspernatur qui, optio dolores, asperiores illo harum unde quas accusantium provident dolor eum doloremque inventore nesciunt! Voluptates reiciendis facilis, velit cum, asperiores qui corporis commodi animi sed officia voluptatibus ducimus ex et aspernatur recusandae? Quaerat deserunt, a nostrum esse tempora enim quibusdam temporibus repudiandae odio eaque nesciunt non perferendis dolor voluptate dolorem. Minus corporis aliquid vitae eos! Eveniet voluptatem, quas vero repellendus unde necessitatibus iusto autem praesentium impedit tenetur iure blanditiis voluptates illo maxime fuga ipsum obcaecati voluptatum explicabo earum provident harum. Incidunt mollitia ad nobis quam maiores!
                    </Box>

                    {/* Add Task Button  */}
                    <Tooltip title='Add Task'>
                        <IconButton size='medium' sx={{
                            backgroundColor: 'skyblue',
                            position: 'absolute',
                            right: '25px',
                            bottom: '25px'
                        }}>
                            <Add fontSize='large' />
                        </IconButton>
                    </Tooltip>
                </Box>
            </Box>
        </>
    )
}

export default Notes;